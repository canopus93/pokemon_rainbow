<% provide(:submit_text, 'Battle!') %>
<div class="col-sm-offset-1 col-sm-10">
	<div class="panel panel-primary">
		<div class="panel-heading">Pokemon Battle</div>
		<div class="panel-body">
		<%= form_for @pokemon_battle do |f| %>
			<%= render 'layouts/error_message', error_object: @pokemon_battle.errors %>
			<div class="form-group col-sm-5 <%= 'has-error' if @pokemon_battle.errors.include?(:pokemon1_id) %>">
				<%= f.label :pokemon1_id %>
				<%= f.select :pokemon1_id, options_for_select(Pokemon.all.collect{ |pokemon| [pokemon.name, pokemon.id] }), {prompt: "-- Select --"}, {class: 'form-control'} %>
				<p class="error-message"><%= @pokemon_battle.errors.messages[:pokemon1_id].join(' and ') %></p>
			</div>
			<div class="form-group col-sm-2 text-center">
				<%= label_tag :vs, 'VS' %>
			</div>
			<div class="form-group col-sm-5 <%= 'has-error' if @pokemon_battle.errors.include?(:pokemon2_id) %>">
				<%= f.label :pokemon2_id %>
				<%= f.select :pokemon2_id, options_for_select(Pokemon.all.collect{ |pokemon| [pokemon.name, pokemon.id] }), {prompt: "-- Select --"}, {class: 'form-control'} %>
				<p class="error-message"><%= @pokemon_battle.errors.messages[:pokemon2_id].join(' and ') %></p>
			</div>
			<%= f.hidden_field :state, value: 'ongoing' %>
			<%= f.hidden_field :current_turn, value: 1 %>
			<%= f.submit yield(:submit_text), class: 'btn btn-primary center-block' %>
		<% end %>
		</div>
	</div>
</div>